<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <title>Javascript Task</title>
    <style>
        .container .col-lg-6 {
            margin: 50px auto;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="row">
            <div class="col-lg-6">
                <div class="form-group">
                    <label for="addTask">Add Task</label>
                    <input type="text" name="addTask" id="addTask" class="form-control">
                </div>
                <div class="form-group">
                    <input type="submit" value="Add Task" onclick="validate()">
                </div>
            </div>
        </div>

        <h3>Todo</h3>
        <p id="msg" class="text-danger"></p>
        <table class="table table-bordered">
            <thead>
                <tr>
                    <th>Your Tasks</th>
                    <th>Action</th>
                </tr>
            </thead>
            <tbody id="data">

            </tbody>
        </table>

        <h3>Completed Tasks</h3>
        <table class="table table-bordered">
            <thead>
                <tr>
                    <th>Your Tasks</th>
                    <th>Action</th>
                </tr>
            </thead>
            <tbody id="comdata">

            </tbody>
        </table>
    </div>


<script>
    var tasks = [];
    function validate() {
        if (document.getElementById('addTask').value == "") {
            alert("Add task is required field !");
            return false;
        } else {
            var task = document.getElementById('addTask').value;
            // alert(task);

            addTask = {};
            addTask.task = task;

            tasks.push(addTask);

            // console.log(tasks);
            insertTask();
        }
    }
    function insertTask() {
        var row = "";
        for (let i = 0; i < tasks.length; i++) {
            row += "<tr><td><input type='checkbox' id='comp' value='"+ tasks[i].task +"' onclick='complete(" + i + ")'> " + tasks[i].task + "</td><td><a href='#' onclick='deleteRow(" + i + ")'>Delete</a>||<a href='#'>Edit</a></td></tr>";
            
        }
        document.getElementById('data').innerHTML = row;
    }


    function deleteRow(index) {
        // alert(index);

        if (confirm('Are You Sure Want To Delete...?')) {
            tasks.splice(index, 1);
            document.getElementById('msg').innerHTML = "Delete Successfully";

            var row = "";
            for (let i = 0; i < tasks.length; i++) {
                row += "<tr><td><input type='checkbox' id='comp' value='"+ tasks[i].task +"' onclick='complete(" + i + ")'> " + tasks[i].task + "</td><td><a href='#' onclick='deleteRow(" + i + ")'>Delete</a>||<a href='#'>Edit</a></td></tr>";
            
            }
            document.getElementById('data').innerHTML = row;
        }
    }
    var donetask = [];
    function complete(index) {
        var comtask = document.getElementById('comp').value;
        // alert(index);
        done = {};
        done.comtask = comtask;
        donetask.push(done);

        completedTask()

            donetask.splice(index, 1);
            document.getElementById('msg').innerHTML = "Task complete";
            var row = "";
            for (let i = 0; i < donetask.length; i++) {
                row += "<tr><td><input type='checkbox' id='comp' value='"+ donetask[i].comtask +"' onclick='complete(" + i + ")'> " + donetask[i].comtask + "</td><td><a href='#' onclick='deleteRow(" + i + ")'>Delete</a>||<a href='#'>Edit</a></td></tr>";
                
            }
            document.getElementById('data').innerHTML = row;
        

    }
    function completedTask() {
        var row = "";
        for (let i = 0; i < donetask.length; i++) {
            row += "<tr><td><input type='checkbox' id='comp' value='"+ donetask[i].comtask +"' onclick='complete()'> " + donetask[i].comtask + "</td><td><a href='#' onclick='deleteRow(" + i + ")'>Delete</a>||<a href='#'>Edit</a></td></tr>";
            
        }
        document.getElementById('comdata').innerHTML = row;
    }
</script>
</body>
</html>